#!/usr/bin/env node

// SHOULD THESE BE IN PACKAGE.JSON INSTEAD?
var KNOWN_TOOLS = [
  'app',
  'default', // task list
  'help',
  'tunnel'
];

// utils - pckage.json?
// swig-util
// swig-util-reporter
// swig-util-update


// user tries `swig tunnel`
//
// 0. utils are installed globally
//     (< from a package.json, or manually?)
//     (< does external take care of this?)
// 1. checks hash of known tools
// 2. tries to require the tool (naming convention; swig-tool-tunnel)
// 3. installs it globally if it doesnt exist
// 4. requires the tool
// 5. launches tool


// swig-default
// Running `swig` will show the user info for the known tools (parsing swig.json files
// in the global install dir, and a message stating that tasks for apps and ui-modules
// are available by running `swig init`. If swig.json is at the project root and
// projectType is not unknown then pull all swig.json files in node_modules.

// swig-init
// 1. checks project type
// 2. will short circuit if not an app or module
// 3. create the symlink
// 4. dumps version and project type into package.json if app or module
// 5. copy the gulpfile tempalte into the local dir, if not present
// 5a. if gulpfile present, asks user if they want to override

// swig-util-update
// checks swig.json for version, compares, runs npm update if different

/*

swig.json task spec

  {
    "tasks": {
      "app": {
        "desc": "Runs an app",
        "flags": {
          "port": "Allows user to specify port to run on."
        },
        "eg": [
          "swig app",
          "swig app --port=8000"
        ]
      }
    }
  }

swig.json root spec

  {
    version: "x.x.x",
    projectType: "app|module|unknown"
  }
*/


